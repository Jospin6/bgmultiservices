"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[349],{99500:(a,e,t)=>{t.d(e,{o:()=>s});var d=t(95155);let s=a=>{let{title:e,subTitle:t,Icon:s,className:l=""}=a;return(0,d.jsx)("div",{className:"".concat(l," sm:block shadow-lg rounded-lg h-[100px]"),children:(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)("div",{className:"mr-2 flex justify-center items-center h-[100px] w-[50px]",children:s}),(0,d.jsxs)("div",{className:"",children:[(0,d.jsxs)("div",{className:"text-2xl font-[500]",children:[" ",e," "]}),(0,d.jsxs)("div",{className:"text-[14px] text-gray-400",children:[" ",t," "]})]})]})})}},52587:(a,e,t)=>{t.d(e,{$y:()=>i,AK:()=>m,Ay:()=>g,GT:()=>p,Xv:()=>n,bH:()=>f,dd:()=>c,oC:()=>y,wG:()=>u});var d=t(48943),s=t(27058),l=t(75033),r=t(21455),o=t.n(r);let n=(0,d.zD)("impression/addImpression",async a=>({id:(await (0,s.gS)((0,s.rJ)(l.db,"impressions"),a)).id,...a})),i=(0,d.zD)("impression/fetchImpressions",async()=>(await (0,s.GG)((0,s.rJ)(l.db,"impressions"))).docs.map(a=>({id:a.id,...a.data()}))),c=(0,d.zD)("impression/deleteImpression",async a=>(await (0,s.kd)((0,s.H9)(l.db,"impressions",a)),a)),u=(0,d.zD)("impression/amountCurrentMonth",async()=>{let a=o()().startOf("month").format("YYYY-MM"),e=(0,s.rJ)(l.db,"impressions"),t=(0,s.P)(e,(0,s._M)("date",">=",a)),d=await (0,s.GG)(t),r=0;return d.docs.forEach(a=>{r+=a.data().amount||0}),r}),p=(0,d.zD)("impression/papersCountCurrentMonth",async()=>{let a=o()().startOf("month").format("YYYY-MM"),e=(0,s.rJ)(l.db,"impressions"),t=(0,s.P)(e,(0,s._M)("date",">=",a)),d=await (0,s.GG)(t),r=0;return d.docs.forEach(a=>{r+=a.data().totalPapers||0}),r}),y=(0,d.zD)("impression/fetchSumDayImpressions",async a=>{let e=(0,s.rJ)(l.db,"impressions"),t=(0,s.P)(e,(0,s._M)("date","==",a)),d=await (0,s.GG)(t),r=0;return d.docs.forEach(a=>{r+=a.data().amount||0}),r}),m=(0,d.zD)("impression/fetchCountDayImpressions",async a=>{let e=(0,s.rJ)(l.db,"impressions"),t=(0,s.P)(e,(0,s._M)("date","==",a)),d=await (0,s.GG)(t),r=0;return d.docs.forEach(a=>{r+=a.data().totalPapers||0}),r}),f=(0,d.zD)("impression/fetchAllDaysImpressions",async a=>{let e=(0,s.rJ)(l.db,"impressions"),t=(0,s.P)(e,(0,s._M)("date","==",a));return(await (0,s.GG)(t)).docs.map(a=>({id:a.id,...a.data()}))}),g=(0,d.Z0)({name:"impression",initialState:{loading:!1,impression:null,error:"",impressionsAmountCurrentMonth:0,printedPapersCountCurrentMonth:0,nbrImprDay:0,sumImprDay:0,allImprDay:[]},reducers:{},extraReducers:a=>{a.addCase(i.pending,a=>{a.loading=!0}),a.addCase(i.fulfilled,(a,e)=>{a.loading=!1,a.impression=e.payload}),a.addCase(i.rejected,(a,e)=>{a.loading=!1,a.error=e.payload||"An error occurred"}),a.addCase(n.fulfilled,(a,e)=>{a.impression=a.impression?[...a.impression,e.payload]:[e.payload]}),a.addCase(c.fulfilled,(a,e)=>{a.impression&&(a.impression=a.impression.filter(a=>a.id!==e.payload))}),a.addCase(u.fulfilled,(a,e)=>{a.impressionsAmountCurrentMonth=e.payload}),a.addCase(p.fulfilled,(a,e)=>{a.printedPapersCountCurrentMonth=e.payload}),a.addCase(y.fulfilled,(a,e)=>{a.sumImprDay=e.payload}),a.addCase(m.fulfilled,(a,e)=>{a.nbrImprDay=e.payload}),a.addCase(f.fulfilled,(a,e)=>{a.allImprDay=e.payload})}}).reducer},94321:(a,e,t)=>{t.d(e,{Ay:()=>u,Bj:()=>r,DD:()=>i,Qu:()=>c,j0:()=>o,vc:()=>n});var d=t(48943),s=t(27058),l=t(75033);let r=(0,d.zD)("product/addProduct",async a=>({id:(await (0,s.gS)((0,s.rJ)(l.db,"products"),a)).id,...a})),o=(0,d.zD)("product/fetchProducts",async()=>(await (0,s.GG)((0,s.rJ)(l.db,"products"))).docs.map(a=>({id:a.id,...a.data()}))),n=(0,d.zD)("product/updateProduct",async a=>{let{id:e,newStock:t}=a,d=(0,s.H9)(l.db,"products",e);return await (0,s.mZ)(d,{stock:t}),{id:e,newStock:t}}),i=(0,d.zD)("product/deleteProduct",async a=>(await (0,s.kd)((0,s.H9)(l.db,"products",a)),a)),c=(0,d.zD)("product/totalStock",async()=>{let a=(0,s.rJ)(l.db,"products"),e=await (0,s.GG)(a),t=0;return e.docs.forEach(a=>{t+=a.data().stock||0}),t}),u=(0,d.Z0)({name:"product",initialState:{loading:!1,products:null,error:"",totalProductsInStock:0},reducers:{},extraReducers:a=>{a.addCase(o.pending,a=>{a.loading=!0}),a.addCase(o.fulfilled,(a,e)=>{a.loading=!1,a.products=e.payload}),a.addCase(o.rejected,(a,e)=>{a.loading=!1,a.error=e.payload}),a.addCase(r.fulfilled,(a,e)=>{a.products=a.products?[...a.products,e.payload]:[e.payload]}),a.addCase(n.fulfilled,(a,e)=>{a.products&&(a.products=a.products.map(a=>a.id===e.payload.id?{...a,stock:e.payload.newStock}:a))}),a.addCase(i.fulfilled,(a,e)=>{a.products&&(a.products=a.products.filter(a=>a.id!==e.payload))}),a.addCase(c.fulfilled,(a,e)=>{a.totalProductsInStock=e.payload})}}).reducer},29009:(a,e,t)=>{t.d(e,{Ay:()=>S,FQ:()=>c,Op:()=>p,RA:()=>y,Vf:()=>r,Xg:()=>h,aK:()=>u,cF:()=>C,cP:()=>D,dS:()=>i,h8:()=>f,j3:()=>o,ke:()=>m});var d=t(48943),s=t(27058),l=t(75033);let r=(0,d.zD)("sale/addSale",async a=>{try{let e=await (0,s.gS)((0,s.rJ)(l.db,"sales"),a);console.log("Vente ajout\xe9 avec ID :",e.id)}catch(a){console.error("Erreur lors de l'ajout :",a)}}),o=(0,d.zD)("sale/fetchSales",async()=>{try{let a=(await (0,s.GG)((0,s.rJ)(l.db,"sales"))).docs.map(a=>({id:a.id,...a.data()}));return console.log("ventes r\xe9cup\xe9r\xe9s :",a),a}catch(a){console.error("Erreur lors de la r\xe9cup\xe9ration :",a)}}),n=(0,d.zD)("sale/updateSale",async(a,e)=>{try{let t=(0,s.H9)(l.db,"sales",a);await (0,s.mZ)(t,e),console.log("Vente mis \xe0 jour !")}catch(a){console.error("Erreur lors de la mise \xe0 jour :",a)}}),i=(0,d.zD)("sale/deleteSale",async a=>{try{await (0,s.kd)((0,s.H9)(l.db,"sales",a)),console.log("Vente supprim\xe9 !")}catch(a){console.error("Erreur lors de la suppression :",a)}}),c=(0,d.zD)("sale/fetchSalesCountToday",async()=>{let a=new Date,e=a.getUTCFullYear(),t=String(a.getUTCMonth()+1).padStart(2,"0"),d=String(a.getUTCDate()).padStart(2,"0"),r="".concat(e,"-").concat(t,"-").concat(d,"T00:00:00.000Z"),o=(0,s.rJ)(l.db,"sales"),n=(0,s.P)(o,(0,s._M)("date","==",r));return(await (0,s.GG)(n)).docs.length}),u=(0,d.zD)("sale/fetchTotalSalesCount",async()=>{let a=(0,s.rJ)(l.db,"sales");return(await (0,s.GG)(a)).docs.length}),p=(0,d.zD)("sale/amountToday",async()=>{let a=new Date,e=a.getUTCFullYear(),t=String(a.getUTCMonth()+1).padStart(2,"0"),d=String(a.getUTCDate()).padStart(2,"0"),r="".concat(e,"-").concat(t,"-").concat(d,"T00:00:00.000Z"),o=(0,s.rJ)(l.db,"sales"),n=(0,s.P)(o,(0,s._M)("date","==",r)),i=await (0,s.GG)(n),c=0;return i.docs.forEach(a=>{let e=a.data();c+=e.total}),c}),y=(0,d.zD)("sale/totalAmount",async()=>{let a=(0,s.rJ)(l.db,"sales"),e=await (0,s.GG)(a),t=0;return e.docs.forEach(a=>{let e=a.data();t+=e.total}),t}),m=(0,d.zD)("sale/last10",async()=>{let a=(0,s.rJ)(l.db,"sales"),e=(0,s.P)(a,(0,s.My)("date","desc"),(0,s.AB)(10));return(await (0,s.GG)(e)).docs.map(a=>({id:a.id,...a.data()}))}),f=(0,d.zD)("sale/last7Days",async()=>{let a=new Date,e=new Date;e.setDate(a.getDate()-7),e.setHours(0,0,0,0);let t="".concat(e.getUTCFullYear(),"-").concat(String(e.getUTCMonth()+1).padStart(2,"0"),"-").concat(String(e.getUTCDate()).padStart(2,"0"),"T00:00:00.000Z"),d=(0,s.rJ)(l.db,"sales"),r=(0,s.P)(d,(0,s._M)("date",">=",t)),o=await (0,s.GG)(r),n={};for(let e=6;e>=0;e--){let t=new Date;t.setDate(a.getDate()-e),n["".concat(t.getUTCFullYear(),"-").concat(String(t.getUTCMonth()+1).padStart(2,"0"),"-").concat(String(t.getUTCDate()).padStart(2,"0"),"T00:00:00.000Z").split("T")[0]]=0}return o.docs.forEach(a=>{let e=a.data(),t=new Date(e.date),d="".concat(t.getUTCFullYear(),"-").concat(String(t.getUTCMonth()+1).padStart(2,"0"),"-").concat(String(t.getUTCDate()).padStart(2,"0"),"T00:00:00.000Z").split("T")[0];n.hasOwnProperty(d)&&(n[d]+=e.total)}),n}),g=(0,d.zD)("sale/byProduct",async()=>{let a=(0,s.rJ)(l.db,"sales"),e=await (0,s.GG)(a),t={};return e.docs.forEach(a=>{a.data().articles.forEach(a=>{t[a.nom]||(t[a.nom]=0),t[a.nom]+=a.total})}),t}),C=(0,d.zD)("sale/fetchSumDaySales",async a=>{let e=(0,s.rJ)(l.db,"sales"),t=(0,s.P)(e,(0,s._M)("date","==",a)),d=await (0,s.GG)(t),r=0;return d.docs.forEach(a=>{let e=a.data();r+=e.total}),r}),D=(0,d.zD)("sale/fetchNumberDaySales",async a=>{let e=(0,s.rJ)(l.db,"sales"),t=(0,s.P)(e,(0,s._M)("date","==",a));return(await (0,s.GG)(t)).docs.length}),h=(0,d.zD)("sale/fetchAllDaysSales",async a=>{let e=(0,s.rJ)(l.db,"sales"),t=(0,s.P)(e,(0,s._M)("date","==",a));return(await (0,s.GG)(t)).docs.map(a=>({id:a.id,...a.data()}))}),S=(0,d.Z0)({name:"sale",initialState:{loading:!1,salesLast7Days:[],sales:null,error:"",salesByProduct:[],salesCountToday:0,totalSalesCount:0,salesAmountToday:0,totalSalesAmount:0,salesAmountTDay:0,nbrSalesDay:0,allDaysSales:[]},reducers:{},extraReducers:a=>{a.addCase(r.pending,a=>{a.loading=!0}).addCase(r.fulfilled,a=>{a.loading=!1}).addCase(r.rejected,(a,e)=>{a.loading=!1,a.error=e.payload}).addCase(o.pending,a=>{a.loading=!0}).addCase(o.fulfilled,(a,e)=>{a.loading=!1,a.sales=e.payload}).addCase(o.rejected,(a,e)=>{a.loading=!1,a.error=e.payload}).addCase(n.pending,a=>{a.loading=!0}).addCase(n.fulfilled,a=>{a.loading=!1}).addCase(n.rejected,(a,e)=>{a.loading=!1,a.error=e.payload}).addCase(i.pending,a=>{a.loading=!0}).addCase(i.fulfilled,a=>{a.loading=!1}).addCase(i.rejected,(a,e)=>{a.loading=!1,a.error=e.payload}).addCase(c.fulfilled,(a,e)=>{a.salesCountToday=e.payload}).addCase(u.fulfilled,(a,e)=>{a.totalSalesCount=e.payload}).addCase(p.fulfilled,(a,e)=>{a.salesAmountToday=e.payload}).addCase(y.fulfilled,(a,e)=>{a.totalSalesAmount=e.payload}).addCase(m.fulfilled,(a,e)=>{a.sales=e.payload}).addCase(f.fulfilled,(a,e)=>{a.salesLast7Days=e.payload}).addCase(g.fulfilled,(a,e)=>{a.salesByProduct=e.payload}).addCase(C.fulfilled,(a,e)=>{a.salesAmountTDay=e.payload}).addCase(D.fulfilled,(a,e)=>{a.nbrSalesDay=e.payload}).addCase(h.fulfilled,(a,e)=>{a.allDaysSales=e.payload})}}).reducer},14732:(a,e,t)=>{t.d(e,{l:()=>d});let d=a=>{let e=new Date(a),t=String(e.getUTCDate()).padStart(2,"0"),d=String(e.getUTCMonth()+1).padStart(2,"0"),s=e.getUTCFullYear();return"".concat(t," ").concat(d," ").concat(s)}},75033:(a,e,t)=>{t.d(e,{db:()=>r});var d=t(49904),s=t(27058);let l=(0,d.Wp)({apiKey:"AIzaSyASZSWBGwPJYuQDRi1GObaNtrccuaBfu70",authDomain:"bgmultiservices-781c8.firebaseapp.com",projectId:"bgmultiservices-781c8",messagingSenderId:"749311417727",appId:"1:749311417727:web:3ea8698ba8ac3ac7ac8e4a"}),r=(0,s.aU)(l)}}]);