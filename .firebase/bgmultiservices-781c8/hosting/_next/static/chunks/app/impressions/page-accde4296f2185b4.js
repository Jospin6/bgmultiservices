(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[499],{46372:(e,t,r)=>{Promise.resolve().then(r.bind(r,27189))},21455:function(e){var t;t=function(){"use strict";var e="millisecond",t="second",r="minute",n="hour",s="week",a="month",i="quarter",u="year",o="date",d="Invalid Date",c=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,l=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,h=function(e,t,r){var n=String(e);return!n||n.length>=t?e:""+Array(t+1-n.length).join(r)+e},f="en",m={};m[f]={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],r=e%100;return"["+e+(t[(r-20)%10]||t[r]||"th")+"]"}};var p="$isDayjsObject",y=function(e){return e instanceof b||!(!e||!e[p])},$=function e(t,r,n){var s;if(!t)return f;if("string"==typeof t){var a=t.toLowerCase();m[a]&&(s=a),r&&(m[a]=r,s=a);var i=t.split("-");if(!s&&i.length>1)return e(i[0])}else{var u=t.name;m[u]=t,s=u}return!n&&s&&(f=s),s||!n&&f},g=function(e,t){if(y(e))return e.clone();var r="object"==typeof t?t:{};return r.date=e,r.args=arguments,new b(r)},v={s:h,z:function(e){var t=-e.utcOffset(),r=Math.abs(t);return(t<=0?"+":"-")+h(Math.floor(r/60),2,"0")+":"+h(r%60,2,"0")},m:function e(t,r){if(t.date()<r.date())return-e(r,t);var n=12*(r.year()-t.year())+(r.month()-t.month()),s=t.clone().add(n,a),i=r-s<0,u=t.clone().add(n+(i?-1:1),a);return+(-(n+(r-s)/(i?s-u:u-s))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(d){return({M:a,y:u,w:s,d:"day",D:o,h:n,m:r,s:t,ms:e,Q:i})[d]||String(d||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}};v.l=$,v.i=y,v.w=function(e,t){return g(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var b=function(){function h(e){this.$L=$(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[p]=!0}var f=h.prototype;return f.parse=function(e){this.$d=function(e){var t=e.date,r=e.utc;if(null===t)return new Date(NaN);if(v.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var n=t.match(c);if(n){var s=n[2]-1||0,a=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],s,n[3]||1,n[4]||0,n[5]||0,n[6]||0,a)):new Date(n[1],s,n[3]||1,n[4]||0,n[5]||0,n[6]||0,a)}}return new Date(t)}(e),this.init()},f.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},f.$utils=function(){return v},f.isValid=function(){return this.$d.toString()!==d},f.isSame=function(e,t){var r=g(e);return this.startOf(t)<=r&&r<=this.endOf(t)},f.isAfter=function(e,t){return g(e)<this.startOf(t)},f.isBefore=function(e,t){return this.endOf(t)<g(e)},f.$g=function(e,t,r){return v.u(e)?this[t]:this.set(r,e)},f.unix=function(){return Math.floor(this.valueOf()/1e3)},f.valueOf=function(){return this.$d.getTime()},f.startOf=function(e,i){var d=this,c=!!v.u(i)||i,l=v.p(e),h=function(e,t){var r=v.w(d.$u?Date.UTC(d.$y,t,e):new Date(d.$y,t,e),d);return c?r:r.endOf("day")},f=function(e,t){return v.w(d.toDate()[e].apply(d.toDate("s"),(c?[0,0,0,0]:[23,59,59,999]).slice(t)),d)},m=this.$W,p=this.$M,y=this.$D,$="set"+(this.$u?"UTC":"");switch(l){case u:return c?h(1,0):h(31,11);case a:return c?h(1,p):h(0,p+1);case s:var g=this.$locale().weekStart||0,b=(m<g?m+7:m)-g;return h(c?y-b:y+(6-b),p);case"day":case o:return f($+"Hours",0);case n:return f($+"Minutes",1);case r:return f($+"Seconds",2);case t:return f($+"Milliseconds",3);default:return this.clone()}},f.endOf=function(e){return this.startOf(e,!1)},f.$set=function(s,i){var d,c=v.p(s),l="set"+(this.$u?"UTC":""),h=((d={}).day=l+"Date",d[o]=l+"Date",d[a]=l+"Month",d[u]=l+"FullYear",d[n]=l+"Hours",d[r]=l+"Minutes",d[t]=l+"Seconds",d[e]=l+"Milliseconds",d)[c],f="day"===c?this.$D+(i-this.$W):i;if(c===a||c===u){var m=this.clone().set(o,1);m.$d[h](f),m.init(),this.$d=m.set(o,Math.min(this.$D,m.daysInMonth())).$d}else h&&this.$d[h](f);return this.init(),this},f.set=function(e,t){return this.clone().$set(e,t)},f.get=function(e){return this[v.p(e)]()},f.add=function(e,i){var o,d=this;e=Number(e);var c=v.p(i),l=function(t){var r=g(d);return v.w(r.date(r.date()+Math.round(t*e)),d)};if(c===a)return this.set(a,this.$M+e);if(c===u)return this.set(u,this.$y+e);if("day"===c)return l(1);if(c===s)return l(7);var h=((o={})[r]=6e4,o[n]=36e5,o[t]=1e3,o)[c]||1,f=this.$d.getTime()+e*h;return v.w(f,this)},f.subtract=function(e,t){return this.add(-1*e,t)},f.format=function(e){var t=this,r=this.$locale();if(!this.isValid())return r.invalidDate||d;var n=e||"YYYY-MM-DDTHH:mm:ssZ",s=v.z(this),a=this.$H,i=this.$m,u=this.$M,o=r.weekdays,c=r.months,h=r.meridiem,f=function(e,r,s,a){return e&&(e[r]||e(t,n))||s[r].slice(0,a)},m=function(e){return v.s(a%12||12,e,"0")},p=h||function(e,t,r){var n=e<12?"AM":"PM";return r?n.toLowerCase():n};return n.replace(l,function(e,n){return n||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return v.s(t.$y,4,"0");case"M":return u+1;case"MM":return v.s(u+1,2,"0");case"MMM":return f(r.monthsShort,u,c,3);case"MMMM":return f(c,u);case"D":return t.$D;case"DD":return v.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return f(r.weekdaysMin,t.$W,o,2);case"ddd":return f(r.weekdaysShort,t.$W,o,3);case"dddd":return o[t.$W];case"H":return String(a);case"HH":return v.s(a,2,"0");case"h":return m(1);case"hh":return m(2);case"a":return p(a,i,!0);case"A":return p(a,i,!1);case"m":return String(i);case"mm":return v.s(i,2,"0");case"s":return String(t.$s);case"ss":return v.s(t.$s,2,"0");case"SSS":return v.s(t.$ms,3,"0");case"Z":return s}return null}(e)||s.replace(":","")})},f.utcOffset=function(){return-(15*Math.round(this.$d.getTimezoneOffset()/15))},f.diff=function(e,o,d){var c,l=this,h=v.p(o),f=g(e),m=(f.utcOffset()-this.utcOffset())*6e4,p=this-f,y=function(){return v.m(l,f)};switch(h){case u:c=y()/12;break;case a:c=y();break;case i:c=y()/3;break;case s:c=(p-m)/6048e5;break;case"day":c=(p-m)/864e5;break;case n:c=p/36e5;break;case r:c=p/6e4;break;case t:c=p/1e3;break;default:c=p}return d?c:v.a(c)},f.daysInMonth=function(){return this.endOf(a).$D},f.$locale=function(){return m[this.$L]},f.locale=function(e,t){if(!e)return this.$L;var r=this.clone(),n=$(e,t,!0);return n&&(r.$L=n),r},f.clone=function(){return v.w(this.$d,this)},f.toDate=function(){return new Date(this.valueOf())},f.toJSON=function(){return this.isValid()?this.toISOString():null},f.toISOString=function(){return this.$d.toISOString()},f.toString=function(){return this.$d.toUTCString()},h}(),x=b.prototype;return g.prototype=x,[["$ms",e],["$s",t],["$m",r],["$H",n],["$W","day"],["$M",a],["$y",u],["$D",o]].forEach(function(e){x[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),g.extend=function(e,t){return e.$i||(e(t,b,g),e.$i=!0),g},g.locale=$,g.isDayjs=y,g.unix=function(e){return g(1e3*e)},g.en=m[f],g.Ls=m,g.p={},g},e.exports=t()},27189:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var n=r(95155),s=r(12115),a=r(83391),i=r(52587);let u=()=>{let[e,t]=(0,s.useState)(0),[r,u]=(0,s.useState)(0),o=(0,a.wA)();return(0,n.jsxs)("div",{className:"md:px-[10%] px-4",children:[(0,n.jsx)("h2",{className:"w-full bg-blue-400 p-4 rounded-t-lg text-white",children:"Rapport d'impression"}),(0,n.jsxs)("form",{onSubmit:n=>{n.preventDefault(),o((0,i.Xv)({totalPapers:e,amount:r,date:new Date().toISOString()})),u(0),t(0)},children:[" ",(0,n.jsxs)("div",{className:"mt-2",children:[(0,n.jsx)("label",{htmlFor:"nom",children:"Nombre de papiers"}),(0,n.jsx)("input",{type:"number",id:"nom",className:"block pl-2 border-[1px] border-gray-300 w-full rounded-lg h-[35px]",placeholder:"Nombre de papiers",onChange:e=>t(Number(e.target.value))})]}),(0,n.jsxs)("div",{className:"mt-2",children:[(0,n.jsx)("label",{htmlFor:"prix",className:"block",children:"Montant"}),(0,n.jsx)("input",{type:"number",id:"prix",placeholder:"Montant",className:"pl-2 border-[1px] border-gray-300 w-full rounded-lg h-[35px]",onChange:e=>u(Number(e.target.value))})]}),(0,n.jsx)("div",{className:"flex justify-end",children:(0,n.jsx)("button",{type:"submit",className:"px-[10px] py-[3px] rounded-lg bg-blue-400 my-2 text-gray-100",children:"Ajouter"})})]})]})};var o=r(14732),d=r(82715);function c(){let e=(0,a.wA)(),{impression:t}=(0,a.d4)(e=>e.impression);(0,s.useEffect)(()=>{e((0,i.$y)())},[e]);let r=t=>e((0,i.dd)(t));return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"text-2xl py-4",children:"Impression"}),(0,n.jsx)(u,{}),(0,n.jsx)("div",{className:"text-xl py-4",children:"les impressions"}),(0,n.jsxs)("table",{className:"w-full text-center",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{className:"border-b-[1px] border-gray-300",children:[(0,n.jsx)("th",{children:"Date"}),(0,n.jsx)("th",{children:"Nombre des papiers"}),(0,n.jsx)("th",{children:"Montant"}),(0,n.jsx)("th",{children:"Actions"})]})}),(0,n.jsx)("tbody",{children:null==t?void 0:t.map(e=>(0,n.jsxs)("tr",{className:"border-b-[1px] border-gray-300",children:[(0,n.jsxs)("td",{children:[" ",(0,o.l)(e.date)," "]}),(0,n.jsxs)("td",{children:[" ",e.totalPapers," "]}),(0,n.jsxs)("td",{children:[" ",e.amount," fc "]}),(0,n.jsx)("td",{className:"flex justify-center",children:(0,n.jsx)(d.A,{size:20,className:"text-red-500",onClick:()=>r(e.id)})})]},e.id))})]})]})}},52587:(e,t,r)=>{"use strict";r.d(t,{$y:()=>d,Ay:()=>f,GT:()=>h,Xv:()=>o,dd:()=>c,wG:()=>l});var n=r(48943),s=r(27058),a=r(75033),i=r(21455),u=r.n(i);let o=(0,n.zD)("impression/addImpression",async e=>({id:(await (0,s.gS)((0,s.rJ)(a.db,"impressions"),e)).id,...e})),d=(0,n.zD)("impression/fetchImpressions",async()=>(await (0,s.GG)((0,s.rJ)(a.db,"impressions"))).docs.map(e=>({id:e.id,...e.data()}))),c=(0,n.zD)("impression/deleteImpression",async e=>(await (0,s.kd)((0,s.H9)(a.db,"impressions",e)),e)),l=(0,n.zD)("impression/amountCurrentMonth",async()=>{let e=u()().startOf("month").format("YYYY-MM"),t=(0,s.rJ)(a.db,"impressions"),r=(0,s.P)(t,(0,s._M)("date",">=",e)),n=await (0,s.GG)(r),i=0;return n.docs.forEach(e=>{i+=e.data().amount||0}),i}),h=(0,n.zD)("impression/papersCountCurrentMonth",async()=>{let e=u()().startOf("month").format("YYYY-MM"),t=(0,s.rJ)(a.db,"impressions"),r=(0,s.P)(t,(0,s._M)("date",">=",e)),n=await (0,s.GG)(r),i=0;return n.docs.forEach(e=>{i+=e.data().totalPapers||0}),i}),f=(0,n.Z0)({name:"impression",initialState:{loading:!1,impression:null,error:"",impressionsAmountCurrentMonth:0,printedPapersCountCurrentMonth:0},reducers:{},extraReducers:e=>{e.addCase(d.pending,e=>{e.loading=!0}),e.addCase(d.fulfilled,(e,t)=>{e.loading=!1,e.impression=t.payload}),e.addCase(d.rejected,(e,t)=>{e.loading=!1,e.error=t.payload||"An error occurred"}),e.addCase(o.fulfilled,(e,t)=>{e.impression=e.impression?[...e.impression,t.payload]:[t.payload]}),e.addCase(c.fulfilled,(e,t)=>{e.impression&&(e.impression=e.impression.filter(e=>e.id!==t.payload))}),e.addCase(l.fulfilled,(e,t)=>{e.impressionsAmountCurrentMonth=t.payload}),e.addCase(h.fulfilled,(e,t)=>{e.printedPapersCountCurrentMonth=t.payload})}}).reducer},14732:(e,t,r)=>{"use strict";r.d(t,{l:()=>n});let n=e=>{let t=new Date(e),r=String(t.getUTCDate()).padStart(2,"0"),n=String(t.getUTCMonth()+1).padStart(2,"0"),s=t.getUTCFullYear();return"".concat(r," ").concat(n," ").concat(s)}},75033:(e,t,r)=>{"use strict";r.d(t,{db:()=>i});var n=r(49904),s=r(27058);let a=(0,n.Wp)({apiKey:"AIzaSyASZSWBGwPJYuQDRi1GObaNtrccuaBfu70",authDomain:"bgmultiservices-781c8.firebaseapp.com",projectId:"bgmultiservices-781c8",messagingSenderId:"749311417727",appId:"1:749311417727:web:3ea8698ba8ac3ac7ac8e4a"}),i=(0,s.aU)(a)},14057:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(12115);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let u=(0,n.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:u=2,absoluteStrokeWidth:o,className:d="",children:c,iconNode:l,...h}=e;return(0,n.createElement)("svg",{ref:t,...i,width:s,height:s,stroke:r,strokeWidth:o?24*Number(u)/Number(s):u,className:a("lucide",d),...h},[...l.map(e=>{let[t,r]=e;return(0,n.createElement)(t,r)}),...Array.isArray(c)?c:[c]])}),o=(e,t)=>{let r=(0,n.forwardRef)((r,i)=>{let{className:o,...d}=r;return(0,n.createElement)(u,{ref:i,iconNode:t,className:a("lucide-".concat(s(e)),o),...d})});return r.displayName="".concat(e),r}},82715:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(14057).A)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[992,876,441,517,358],()=>t(46372)),_N_E=e.O()}]);